import{ap as w,_ as C,l as b,aq as S,o as n,b as o,F as y,i as g,z as T,t as v,a as B,u as M,m as N,g as k,d as t,Q as L,c as j,p as I,f as V,r as q,j as x}from"./index.ed1d8821.js";import{c as z}from"./courses.7e745bbc.js";import{T as $}from"./tags.41a97576.js";import"./common.ea98a567.js";function E(d,a){return w.slice(0,a)}const F={class:"link_menu"},R=["onClick"],A={__name:"LinkMenu",setup(d){const a=b([]);S(()=>{setTimeout(()=>{const i=document.querySelectorAll("h1,h2,h3,h4,h5"),_=[],l={h1:1,h2:2,h3:3,h4:4,h5:5};i.forEach(r=>{_.push({title:r.innerText,lv:l[r.tagName.toLowerCase()],el:r})}),a.value=u(_)},0)});function u(i=[]){const _=[],l=i.map(s=>{const c=r(s.lv);return _.push({lv:c,meta:s.lv}),{...s,margin:c*10}});function r(s){let c=_.length-1,e=!1,p;for(;!e;){const m=_[c];m===void 0?(p=1,e=!0):s>m.meta?(p=m.lv+1,e=!0):s===m.meta?(p=m.lv,e=!0):c-=1}return p}return l}function h(i){console.log(i),i.scrollIntoView()}return(i,_)=>(n(),o("div",F,[(n(!0),o(y,null,g(a.value,(l,r)=>(n(),o("div",{key:r,class:"menu_item",style:T(`margin-left:${l.margin}px;`),onClick:s=>h(l.el)},v(l.title),13,R))),128))]))}},D=C(A,[["__scopeId","data-v-67068573"]]);const f=d=>(I("data-v-0dd580d5"),d=d(),V(),d),O={class:"side_bar"},Q={key:0,class:"side_bar_wrap"},W=f(()=>t("div",{class:"item"},[t("div",{class:"title"},"\u4E2A\u4EBA\u4ECB\u7ECD"),t("div",{class:"content"},"\u524D\u7AEF\u7A0B\u5E8F\u5458")],-1)),G={class:"item"},H=f(()=>t("div",{class:"title"},"\u521B\u5EFA\u7684\u4E13\u9898",-1)),J={class:"content"},K=["onClick"],P=["src"],U={class:"name ellipsis"},X={class:"item"},Y=f(()=>t("div",{class:"title"},"\u4E3B\u9898\u6587\u7AE0",-1)),Z={class:"content"},tt=["onClick"],et=["src"],st={class:"name"},nt=f(()=>t("span",null,v(" \xB7 "),-1)),ot={class:"side_bar_wrap",style:{"margin-top":"12px"}},it={key:0,class:"item"},ct=f(()=>t("div",{class:"title"},"\u76F8\u5173\u63A8\u8350",-1)),at={class:"content"},_t=["onClick"],lt={class:"recommend_title ellipsis"},rt={class:"recommend_time"},dt={__name:"SideBar",setup(d){const a=B(),u=M(),h=Object.keys($).map(s=>({...$[s],key:s}))||[],i=N(()=>u.meta.id?E(u.meta.id,5):[]);function _(s){a.push(`/notes?tag=${s}`)}function l(s){const{url:c}=s||{};if(c.startsWith("http")){window.open(c);return}a.push(c||"/home")}function r(s){a.push(`/notes/detail/${s.id}`)}return(s,c)=>(n(),o("div",O,[k(u).meta.id?L("",!0):(n(),o("div",Q,[W,t("div",G,[H,t("div",J,[(n(!0),o(y,null,g(k(h),e=>(n(),o("div",{class:"subject",key:e.key,onClick:p=>_(e.key)},[t("img",{src:e.poster},null,8,P),t("span",U,v(e.key),1)],8,K))),128))])]),t("div",X,[Y,t("div",Z,[(n(!0),o(y,null,g(k(z),e=>(n(),o("div",{class:"course",key:e.title+e.subTitle,onClick:p=>l(e)},[t("img",{src:e.poster,alt:""},null,8,et),t("span",st,[t("span",null,v(e.title),1),nt,t("span",null,v(e.subTitle),1)])],8,tt))),128))])])])),k(u).meta.id?(n(),j(D,{key:1})):L("",!0),t("div",ot,[i.value.length?(n(),o("div",it,[ct,t("div",at,[(n(!0),o(y,null,g(i.value,e=>(n(),o("div",{class:"recommend",key:e.id,onClick:p=>r(e)},[t("div",lt,v(e.title),1),t("div",rt,v(e.createTime),1)],8,_t))),128))])])):L("",!0)])]))}},ut=C(dt,[["__scopeId","data-v-0dd580d5"]]);const pt={class:"content_wrap"},vt={class:"content"},ht={__name:"layout",setup(d){return(a,u)=>{const h=q("router-view");return n(),o("div",pt,[t("div",vt,[x(h)]),t("div",null,[x(ut)])])}}},gt=C(ht,[["__scopeId","data-v-df0f4481"]]);export{gt as default};
