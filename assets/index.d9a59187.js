import{i as pe,j as we,k as ge,l as ee,m as Be,n as U,q as ke,s as g,v as Me,x as A,y as Se,r as P,o as m,c as C,w,z as Q,g as L,d as v,A as f,B as se,C as Y,b as R,D as W,E as z,t as $,G,H as Te,e as _,I as x,T as Ie,J as he,K as ye,L as Ae,M as be,N as oe,O as ae,_ as Ce,P as Le,a as $e,F as le,h as re,p as Oe,f as Re}from"./index.8053bc9f.js";import{a as ie,E as Ve,b as Pe,c as ze,d as De,e as Ne,f as He,T as Fe,i as Ue,u as Xe,g as qe,h as Ke,j as ue,k as ce,l as je,m as Ye,n as We,_ as Ge,o as Ze,p as Je,q as de,r as Qe}from"./game.1e45d8dd.js";const _e='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',xe=e=>getComputedStyle(e).position==="fixed"?!1:e.offsetParent!==null,fe=e=>Array.from(e.querySelectorAll(_e)).filter(n=>en(n)&&xe(n)),en=e=>{if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.disabled)return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return!(e.type==="hidden"||e.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},nn=(e,n,o)=>{let r={offsetX:0,offsetY:0};const a=p=>{const S=p.clientX,B=p.clientY,{offsetX:E,offsetY:b}=r,i=e.value.getBoundingClientRect(),h=i.left,c=i.top,u=i.width,s=i.height,y=document.documentElement.clientWidth,N=document.documentElement.clientHeight,Z=-h+E,T=-c+b,q=y-h-u+E,J=N-c-s+b,K=H=>{const j=Math.min(Math.max(E+H.clientX-S,Z),q),F=Math.min(Math.max(b+H.clientY-B,T),J);r={offsetX:j,offsetY:F},e.value.style.transform=`translate(${ie(j)}, ${ie(F)})`},I=()=>{document.removeEventListener("mousemove",K),document.removeEventListener("mouseup",I)};document.addEventListener("mousemove",K),document.addEventListener("mouseup",I)},l=()=>{n.value&&e.value&&n.value.addEventListener("mousedown",a)},t=()=>{n.value&&e.value&&n.value.removeEventListener("mousedown",a)};pe(()=>{we(()=>{o.value?l():t()})}),ge(()=>{t()})},tn=(e,n)=>{let o;ee(()=>e.value,r=>{var a,l;r?(o=document.activeElement,Be(n)&&((l=(a=n.value).focus)==null||l.call(a))):o.focus()})},ne="_trap-focus-children",O=[],me=e=>{if(O.length===0)return;const n=O[O.length-1][ne];if(n.length>0&&e.code===Ve.tab){if(n.length===1){e.preventDefault(),document.activeElement!==n[0]&&n[0].focus();return}const o=e.shiftKey,r=e.target===n[0],a=e.target===n[n.length-1];r&&o&&(e.preventDefault(),n[n.length-1].focus()),a&&!o&&(e.preventDefault(),n[0].focus())}},sn={beforeMount(e){e[ne]=fe(e),O.push(e),O.length<=1&&document.addEventListener("keydown",me)},updated(e){U(()=>{e[ne]=fe(e)})},unmounted(){O.shift(),O.length===0&&document.removeEventListener("keydown",me)}},on=ke({name:"ElMessageBox",directives:{TrapFocus:sn},components:{ElButton:Pe,ElFocusTrap:ze,ElInput:De,ElOverlay:Ne,ElIcon:He,...Fe},inheritAttrs:!1,props:{buttonSize:{type:String,validator:Ue},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:n}){const{t:o}=Xe(),r=qe("message-box"),a=g(!1),{nextZIndex:l}=Ke(),t=Me({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:l()}),p=A(()=>{const d=t.type;return{[r.bm("icon",d)]:d&&ue[d]}}),S=ce(),B=ce(),E=je(A(()=>e.buttonSize),{prop:!0,form:!0,formItem:!0}),b=A(()=>t.icon||ue[t.type]||""),i=A(()=>!!t.message),h=g(),c=g(),u=g(),s=g(),y=g(),N=A(()=>t.confirmButtonClass);ee(()=>t.inputValue,async d=>{await U(),e.boxType==="prompt"&&d!==null&&H()},{immediate:!0}),ee(()=>a.value,d=>{var k,V;d&&(e.boxType!=="prompt"&&(t.autofocus?u.value=(V=(k=y.value)==null?void 0:k.$el)!=null?V:h.value:u.value=h.value),t.zIndex=l()),e.boxType==="prompt"&&(d?U().then(()=>{var te;s.value&&s.value.$el&&(t.autofocus?u.value=(te=j())!=null?te:h.value:u.value=h.value)}):(t.editorErrorMessage="",t.validateError=!1))});const Z=A(()=>e.draggable);nn(h,c,Z),pe(async()=>{await U(),e.closeOnHashChange&&window.addEventListener("hashchange",T)}),ge(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",T)});function T(){!a.value||(a.value=!1,U(()=>{t.action&&n("action",t.action)}))}const q=()=>{e.closeOnClickModal&&I(t.distinguishCancelAndClose?"close":"cancel")},J=Ye(q),K=d=>{if(t.inputType!=="textarea")return d.preventDefault(),I("confirm")},I=d=>{var k;e.boxType==="prompt"&&d==="confirm"&&!H()||(t.action=d,t.beforeClose?(k=t.beforeClose)==null||k.call(t,d,t,T):T())},H=()=>{if(e.boxType==="prompt"){const d=t.inputPattern;if(d&&!d.test(t.inputValue||""))return t.editorErrorMessage=t.inputErrorMessage||o("el.messagebox.error"),t.validateError=!0,!1;const k=t.inputValidator;if(typeof k=="function"){const V=k(t.inputValue);if(V===!1)return t.editorErrorMessage=t.inputErrorMessage||o("el.messagebox.error"),t.validateError=!0,!1;if(typeof V=="string")return t.editorErrorMessage=V,t.validateError=!0,!1}}return t.editorErrorMessage="",t.validateError=!1,!0},j=()=>{const d=s.value.$refs;return d.input||d.textarea},F=()=>{I("close")},Ee=()=>{e.closeOnPressEscape&&F()};return e.lockScroll&&We(a),tn(a),{...Se(t),ns:r,overlayEvent:J,visible:a,hasMessage:i,typeClass:p,contentId:S,inputId:B,btnSize:E,iconComponent:b,confirmButtonClasses:N,rootRef:h,focusStartRef:u,headerRef:c,inputRef:s,confirmRef:y,doClose:T,handleClose:F,onCloseRequested:Ee,handleWrapperClick:q,handleInputEnter:K,handleAction:I,t:o}}}),an=["aria-label","aria-describedby"],ln=["aria-label"],rn=["id"];function un(e,n,o,r,a,l){const t=P("el-icon"),p=P("close"),S=P("el-input"),B=P("el-button"),E=P("el-focus-trap"),b=P("el-overlay");return m(),C(Ie,{name:"fade-in-linear",onAfterLeave:n[11]||(n[11]=i=>e.$emit("vanish")),persisted:""},{default:w(()=>[Q(L(b,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:w(()=>[v("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:f(`${e.ns.namespace.value}-overlay-message-box`),onClick:n[8]||(n[8]=(...i)=>e.overlayEvent.onClick&&e.overlayEvent.onClick(...i)),onMousedown:n[9]||(n[9]=(...i)=>e.overlayEvent.onMousedown&&e.overlayEvent.onMousedown(...i)),onMouseup:n[10]||(n[10]=(...i)=>e.overlayEvent.onMouseup&&e.overlayEvent.onMouseup(...i))},[L(E,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:w(()=>[v("div",{ref:"rootRef",class:f([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:se(e.customStyle),tabindex:"-1",onClick:n[7]||(n[7]=Y(()=>{},["stop"]))},[e.title!==null&&e.title!==void 0?(m(),R("div",{key:0,ref:"headerRef",class:f(e.ns.e("header"))},[v("div",{class:f(e.ns.e("title"))},[e.iconComponent&&e.center?(m(),C(t,{key:0,class:f([e.ns.e("status"),e.typeClass])},{default:w(()=>[(m(),C(W(e.iconComponent)))]),_:1},8,["class"])):z("v-if",!0),v("span",null,$(e.title),1)],2),e.showClose?(m(),R("button",{key:0,type:"button",class:f(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:n[0]||(n[0]=i=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel")),onKeydown:n[1]||(n[1]=G(Y(i=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[L(t,{class:f(e.ns.e("close"))},{default:w(()=>[L(p)]),_:1},8,["class"])],42,ln)):z("v-if",!0)],2)):z("v-if",!0),v("div",{id:e.contentId,class:f(e.ns.e("content"))},[v("div",{class:f(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(m(),C(t,{key:0,class:f([e.ns.e("status"),e.typeClass])},{default:w(()=>[(m(),C(W(e.iconComponent)))]),_:1},8,["class"])):z("v-if",!0),e.hasMessage?(m(),R("div",{key:1,class:f(e.ns.e("message"))},[Te(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(m(),C(W(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(m(),C(W(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:w(()=>[_($(e.dangerouslyUseHTMLString?"":e.message),1)]),_:1},8,["for"]))])],2)):z("v-if",!0)],2),Q(v("div",{class:f(e.ns.e("input"))},[L(S,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":n[2]||(n[2]=i=>e.inputValue=i),type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:f({invalid:e.validateError}),onKeydown:G(e.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),v("div",{class:f(e.ns.e("errormsg")),style:se({visibility:e.editorErrorMessage?"visible":"hidden"})},$(e.editorErrorMessage),7)],2),[[x,e.showInput]])],10,rn),v("div",{class:f(e.ns.e("btns"))},[e.showCancelButton?(m(),C(B,{key:0,loading:e.cancelButtonLoading,class:f([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:n[3]||(n[3]=i=>e.handleAction("cancel")),onKeydown:n[4]||(n[4]=G(Y(i=>e.handleAction("cancel"),["prevent"]),["enter"]))},{default:w(()=>[_($(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):z("v-if",!0),Q(L(B,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,class:f([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:n[5]||(n[5]=i=>e.handleAction("confirm")),onKeydown:n[6]||(n[6]=G(Y(i=>e.handleAction("confirm"),["prevent"]),["enter"]))},{default:w(()=>[_($(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[x,e.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,an)]),_:3},8,["z-index","overlay-class","mask"]),[[x,e.visible]])]),_:3})}var cn=Ge(on,[["render",un],["__file","/home/runner/work/element-plus/element-plus/packages/components/message-box/src/index.vue"]]);const X=new Map,dn=e=>{let n=document.body;return e.appendTo&&(he(e.appendTo)&&(n=document.querySelector(e.appendTo)),de(e.appendTo)&&(n=e.appendTo),de(n)||(n=document.body)),n},fn=(e,n,o=null)=>{const r=L(cn,e,ae(e.message)||ye(e.message)?{default:ae(e.message)?e.message:()=>e.message}:null);return r.appContext=o,be(r,n),dn(e).appendChild(n.firstElementChild),r.component},mn=()=>document.createElement("div"),vn=(e,n)=>{const o=mn();e.onVanish=()=>{be(null,o),X.delete(a)},e.onAction=l=>{const t=X.get(a);let p;e.showInput?p={value:a.inputValue,action:l}:p=l,e.callback?e.callback(p,r.proxy):l==="cancel"||l==="close"?e.distinguishCancelAndClose&&l!=="cancel"?t.reject("close"):t.reject("cancel"):t.resolve(p)};const r=fn(e,o,n),a=r.proxy;for(const l in e)oe(e,l)&&!oe(a.$props,l)&&(a[l]=e[l]);return a.visible=!0,a};function D(e,n=null){if(!Ze)return Promise.reject();let o;return he(e)||ye(e)?e={message:e}:o=e.callback,new Promise((r,a)=>{const l=vn(e,n!=null?n:D._context);X.set(l,{options:e,callback:o,resolve:r,reject:a})})}const pn=["alert","confirm","prompt"],gn={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};pn.forEach(e=>{D[e]=hn(e)});function hn(e){return(n,o,r,a)=>{let l="";return Ae(o)?(r=o,l=""):Je(o)?l="":l=o,D(Object.assign({title:l,message:n,type:"",...gn[e]},r,{boxType:e}),a)}}D.close=()=>{X.forEach((e,n)=>{n.doClose()}),X.clear()};D._context=null;const M=D;M.install=e=>{M._context=e._context,e.config.globalProperties.$msgbox=M,e.config.globalProperties.$messageBox=M,e.config.globalProperties.$alert=M.alert,e.config.globalProperties.$confirm=M.confirm,e.config.globalProperties.$prompt=M.prompt};const yn=M;const bn={__name:"LinkItem",props:{item:{type:Object,default:()=>({name:"",alive:!0})},isSelect:{type:Boolean,default:!1}},setup(e){const n=e,o=A(()=>n.item.alive?n.isSelect?"item-select":"item":"item-hide");return(r,a)=>(m(),R("div",{class:f(Le(o))},$(n.item.name),3))}},ve=Ce(bn,[["__scopeId","data-v-9ca88218"]]);const Cn=e=>(Oe("data-v-55b569c8"),e=e(),Re(),e),En={class:"link-game"},wn={class:"game-title"},Bn=Cn(()=>v("div",{class:"main-title"},"\u6587\u5B57\u8FDE\u8FDE\u770B",-1)),kn={class:"game-playground"},Mn={class:"game-pad"},Sn={class:"game-pad"},Tn={__name:"index",setup(e){const n=g([]),o=g(0),r=g([]),a=g([]),l=g(""),t=g(""),p=g({}),S=$e();b();function B(c){let u=[],s=[];return c.forEach(y=>{u.push({name:y.char,alive:!0}),s.push({name:y.pinyin,alive:!0})}),u.sort(()=>.5-Math.random()),s.sort(()=>.5-Math.random()),{left:u,right:s}}function E(c){const u={};return c.forEach(s=>{u[s.char]=s.pinyin}),u}async function b(){const c=await Qe("\u8FDE\u8FDE\u770B");if(n.value=(c==null?void 0:c.words.slice(0,16))||[],!n.value.length){await yn.alert("\u8BF7\u5148\u914D\u7F6E\u8BCD\u5E93",{"confirm-button-text":"\u53BB\u914D\u7F6E"}),S.push({name:"game-settings"});return}const{left:u,right:s}=B(n.value);r.value=u,a.value=s,p.value=E(n.value),o.value=0,l.value="",t.value=""}function i(c,u){u==="left"&&(l.value=c.name),u==="right"&&(t.value=c.name),h()}function h(){const c=l.value,u=t.value;p.value[c]===u&&(r.value.map(s=>{s.name===c&&(s.alive=!1)}),a.value.map(s=>{s.name===u&&(s.alive=!1)}),o.value=o.value+10,r.value.filter(s=>s.alive).length||setTimeout(()=>{alert("\u606D\u559C\u4F60\u53D6\u5F97\u80DC\u5229"),b()}))}return(c,u)=>(m(),R("div",En,[v("div",wn,[Bn,v("div",null,"\u5F97\u5206\uFF1A"+$(o.value),1)]),v("div",kn,[v("div",Mn,[(m(!0),R(le,null,re(r.value,(s,y)=>(m(),C(ve,{isSelect:l.value===s.name,key:s.name+y,item:s,onClick:N=>i(s,"left")},null,8,["isSelect","item","onClick"]))),128))]),v("div",Sn,[(m(!0),R(le,null,re(a.value,(s,y)=>(m(),C(ve,{isSelect:t.value===s.name,key:s.name+y,item:s,onClick:N=>i(s,"right")},null,8,["isSelect","item","onClick"]))),128))])])]))}},Ln=Ce(Tn,[["__scopeId","data-v-55b569c8"]]);export{Ln as default};
